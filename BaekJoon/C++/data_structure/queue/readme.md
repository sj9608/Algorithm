좀 더럽지만 템플릿 사용해서 풀었음
